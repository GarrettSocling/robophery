#!/usr/bin/env python
# -*- coding: utf-8 -*-

import sys
from oslo_config import cfg
from robophery.gpio.l293 import L293dModule

common_opts = [
    cfg.Opt('name',
            short='n',
            default="l293d",
            help='L293D driver name'),
    cfg.Opt('port_a',
            short='pa',
            help='L293D pin 1 or pin 9: On or off'),
    cfg.Opt('port_b',
            short='pb',
            help='L293D pin 2 or pin 10: Anticlockwise positive'),
    cfg.Opt('port_c',
            short='pc',
            help='L293D pin 7 or pin 15: Clockwise positive'),
]

CONF = cfg.CONF
CONF.register_cli_opts(common_opts)
CONF(sys.argv[1:])

module = L293dModule(CONF)
print(module.get_data)
