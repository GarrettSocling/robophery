#!/usr/bin/env python
# -*- coding: utf-8 -*-

import sys
from oslo_config import cfg
from robophery.gpio.dht22 import Dht22Module

common_opts = [
    cfg.Opt('name',
            short='n',
            default="dht22",
            help='DHT22 sensor name'),
    cfg.Opt('port',
            short='p',
            default="0",
            help='GPIO port of DHT22 sensor'),
]

CONF = cfg.CONF
CONF.register_cli_opts(common_opts)
CONF(sys.argv[1:])

module = Dht22Module(CONF)
print(module.get_data)
